---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "celerdatabyoc_aws_network Resource - terraform-provider-celerdatabyoc"
subcategory: ""
description: |-
  
---

~> The resource's API may change in subsequent versions to simplify the user experience.
Because CelerData needs to deploy the cluster in user’s VPC, thus during the deploying process, user need to define which Subnet the cluster is deployed in. And Security Group describle how these cluster nodes integrate with each other. More information about how to setup Subnet and Security Group, see Create a network configuration.

### Example Usage

```terraform
resource "celerdatabyoc_aws_data_credential_policy" "new" {
   bucket = "[your S3 bucket]"
}

data "celerdatabyoc_aws_data_credential_assume_policy" "assume_role" {}

resource "aws_iam_role" "celerdata_data_cred_role" {
  name               = "celerdata_data_cred_role"
  assume_role_policy = data.celerdatabyoc_aws_data_credential_assume_policy.assume_role.json
  description        = "Celerdata Data Credential"
  inline_policy {
    name   = "celerdata_data_cred_role_policy"
    policy = celerdatabyoc_aws_data_credential_policy.new.json
  }
}

resource "aws_iam_instance_profile" "celerdata_data_cred_profile" {
  name = "celerdata_data_cred_profile"
  role = aws_iam_role.celerdata_data_cred_role.name
}


resource "celerdatabyoc_aws_deployment_credential_policy" "new" {
  bucket = local.s3_bucket
  data_role_arn = aws_iam_role.celerdata_data_cred_role.arn 
}

resource "celerdatabyoc_aws_deployment_credential_assume_policy" "new" {}

resource "aws_iam_role" "deploy_cred_role" {
  name               = "deploy_cred_role"
  assume_role_policy = celerdatabyoc_aws_deployment_credential_assume_policy.new.json
  description        = "Celerdata Deploy Credential"
  inline_policy {
    name   = "deploy_cred_role-policy"
    policy = celerdatabyoc_aws_deployment_credential_policy.new.json 
  }
}

resource "celerdatabyoc_aws_data_credential" "new" {
  name = "data-credential"
  role_arn = aws_iam_role.celerdata_data_cred_role.arn 
  instance_profile_arn = aws_iam_instance_profile.celerdata_data_cred_profile.arn
  bucket_name = local.s3_bucket
  policy_version = celerdatabyoc_aws_data_credential_policy.new.version
}

resource "celerdatabyoc_aws_deployment_role_credential" "new" {
  name = "deployment-role-credential"
  role_arn = aws_iam_role.deploy_cred_role.arn
  external_id = celerdatabyoc_aws_deployment_credential_assume_policy.new.external_id 
  policy_version = celerdatabyoc_aws_deployment_credential_policy.new.version 
}

resource "celerdatabyoc_aws_network" "new" {
  name = "[name your net work]"
  subnet_id = "[your subnet id]"
  security_group_id = "[your security group id]"
  region = "[your AWS VPC region]"
  deployment_credential_id = celerdatabyoc_aws_deployment_role_credential.new.id
  vpc_endpoint_id = "[your vpc endpoint id]"
}
```

### Argument Reference

* `name` - (ForceNew) Your network name
* `subnet_id` - (ForceNew) Type your subnet id
* `security_group_id` - (ForceNew) Type your security group id
* `region` - (ForceNew) Region of AWS VPC. The optional regions are as follows：
  - Asia Pacific (Singapore) ap-southeast-1
  - US East (N. Virginia) us-east-1
  - US West (Oregon) us-west-2
  - Europe (Ireland) eu-west-1
* `deployment_credential_id` - (ForceNew) Should type as `celerdatabyoc_aws_deployment_role_credential.new.id`
* `vpc_end_point_id` - (Optional) If you need to achieve more stringent network communication method, you can set the vpc endpoint ID

### Attribute Reference

* `id`  -  celerdatabyoc_aws_network id
