---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "celerdatabyoc_aws_data_credential_policy Resource - terraform-provider-celerdatabyoc"
subcategory: ""
description: |-
  
---

This is a pre-requisite step for the implementation of celerdatabyoc_aws_data_credential.

### Example Usage
```example
resource "celerdatabyoc_aws_data_credential_policy" "new" {
   bucket = "[your S3 bucket]"
}

data "celerdatabyoc_aws_data_credential_assume_policy" "assume_role" {}

resource "aws_iam_role" "celerdata_data_cred_role" {
  name               = "celerdata_data_cred_role"
  assume_role_policy = data.celerdatabyoc_aws_data_credential_assume_policy.assume_role.json
  description        = "Celerdata Data Credential"
  inline_policy {
    name   = "celerdata_data_cred_role_policy"
    policy = celerdatabyoc_aws_data_credential_policy.new.json
  }
}

resource "aws_iam_instance_profile" "celerdata_data_cred_profile" {
  name = "celerdata_data_cred_profile"
  role = aws_iam_role.celerdata_data_cred_role.name
}

resource "celerdatabyoc_aws_data_credential" "new" {
  name = "celerdata_data_credential"
  role_arn = aws_iam_role.celerdata_data_cred_role.arn 
  instance_profile_arn = aws_iam_instance_profile.celerdata_data_cred_profile.arn
  bucket_name = "[your S3 bucket name]"
  policy_version = celerdatabyoc_aws_data_credential_policy.new.version
}
```

### Argument Reference
* `bucket` - (ForceNew) the name of  AWS S3 bucket for which to generate the policy document and stores the profile

### Attribute Reference
* `json ` - AWS IAM Policy JSON document
* `version` - Provides support for policy version comparisons, the result of which only affect newly created clusters and have no effect on existing clusters
