---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "celerdatabyoc_cluster_domain_ssl_cert Resource - terraform-provider-celerdatabyoc"
subcategory: ""
description: |-

---

~> The resource's API may change in subsequent versions to simplify the user experience.

Customize your own domain SSL certificate for the specific CelerData cluster, then you can use a MySQL client or other tool to establish JDBC connections between the cluster's FE nodes (or coordinator nodes) and your customer domain or use HTTPS to communicate with the cluster. It can be divided into four steps in total:

- Step 1: You need to place the SSL certificate and SSL certificate key in the cluster's data credential related cloud storage (such as AWS S3 bucket).  

- Step 2: Call the terraform API when cluster is in the running status to ensure the SSL certificate can be feteched successfully into the cluster's nodes.

- Step 3: Find the cluster's domain from JDBC connection endpoint in cluster's overview page. Then you need to CNAME your customer domain as the cluster's domain.

- (Optional) Step 4: If you want to set `ssl-mode` to `VERIFY_CA` or `VERIFY_IDENTITY` when establishing JDBC connections with the cluster, reboot the cluster (namely, suspend and then resume the cluster) to ensure the newest SSL certificate work in the cluster.

## Example Usage

```terraform
resource "celerdatabyoc_cluster_domain_ssl_cert" "my_ssl_cert" {
  cluster_id            = "your cluster resource id"
  domain                = "your domain name"
  s3_bucket             = "your s3 bucket name"
  s3_key_of_ssl_crt     = "s3 key of your ssl certificate"
  s3_key_of_ssl_crt_key = "s3 key of your ssl certificate key"
}
```

## Schema

### Required

* `cluster_id` (String, ForceNew) The resource id of the `celerdatabyoc_classtic_cluster` resource or
  `celerdatabyoc_elastic_cluster` resource. You can also directly find this ID in cluster's overview page. 
* `domain` (String) The domain name you want to customize.
* `s3_bucket` (String) The s3 bucket key where the ssl certificate is stored. We recommended that you place the SSL certificate into cluster data credential's S3 bucket.
* `s3_key_of_ssl_crt` (String) The s3 key of ssl certificate.
* `s3_key_of_ssl_crt_key` (String) The s3 key of ssl certificate key.

### Read-Only

- `id` (String) The ID of this resource.
- `cert_id` (String) The id of ssl cert in CelerData Cloud Private.
- `cert_state` (String) The state of ssl cert.

## Related Resources

For information on how to create classic/elastic cluster resource, see the:

- [Create a classic cluster resource](https://registry.terraform.io/providers/CelerData/celerdatabyoc/latest/docs/resources/classic_cluster)
- [Create a elastic cluster resource](https://registry.terraform.io/providers/CelerData/celerdatabyoc/latest/docs/resources/elastic_cluster)
