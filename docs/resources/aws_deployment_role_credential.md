---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "celerdatabyoc_aws_deployment_role_credential Resource - terraform-provider-celerdatabyoc"
subcategory: ""
description: |-
  
---

~> The resource's API may change in subsequent versions to simplify the user experience.

To ensure a successful deployment in your VPC, you must create new AWS Deployment credentials.
More you can see : [How to create the AWS Deployment credential](https://docs.celerdata.com/en-us/main/cloud_settings/manage_credentials).

### Example Usage

```example
resource "celerdatabyoc_aws_data_credential_policy" "new" {
   bucket = "[your S3 bucket]"
}
data "celerdatabyoc_aws_data_credential_assume_policy" "assume_role" {}

resource "aws_iam_role" "celerdata_data_cred_role" {
  name               = "celerdata_data_cred_role"
  assume_role_policy = data.celerdatabyoc_aws_data_credential_assume_policy.assume_role.json
  description        = "Celerdata Data Credential"
  inline_policy {
    name   = "celerdata_data_cred_role_policy"
    policy = celerdatabyoc_aws_data_credential_policy.new.json
  }
}

resource "celerdatabyoc_aws_deployment_credential_policy" "new" {
  bucket = "[your S3 bucket name]"
  data_role_arn = aws_iam_role.celerdata_data_cred_role.arn 
}
resource "celerdatabyoc_aws_deployment_credential_assume_policy" "new" {}
resource "aws_iam_role" "deploy_cred_role" {
  name               = "deploy_cred_role"
  assume_role_policy = celerdatabyoc_aws_deployment_credential_assume_policy.new.json
  description        = "Celerdata Deploy Credential"
  inline_policy {
    name   = "deploy_cred_role-policy"
    policy = celerdatabyoc_aws_deployment_credential_policy.new.json 
  }


resource "celerdatabyoc_aws_deployment_role_credential" "new" {
  name = "deployment-role-credential"
  role_arn = aws_iam_role.deploy_cred_role.arn
  external_id = celerdatabyoc_aws_deployment_credential_assume_policy.new.external_id 
  policy_version = celerdatabyoc_aws_deployment_credential_policy.new.version 
}
```

### Argument Reference
- name - (ForceNew) The name of deployment credential
- role_arn - (ForceNew) Should type as "aws_iam_role.deploy_cred_role.arn"
- external_id - (ForceNew) Should type as "celerdatabyoc_aws_deployment_credential_assume_policy.new.external_id "
- policy_version - (ForceNew) Should type as "celerdatabyoc_aws_deployment_credential_policy.new.version"

### Attribute Reference
- id  -  celerdatabyoc_aws_deployment_role_credential id
